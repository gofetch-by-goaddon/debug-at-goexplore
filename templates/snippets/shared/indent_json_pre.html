<script>
  indentJsonPre = function() {
    $(".json-pre-container").each(function() {
      var sample_code       = $(this).find("pre code");
      var sample_json       = JSON.stringify(JSON.parse($(this).find(".json-sample").html()), undefined, 2);
      var highlighted_json  = Prism.highlight(sample_json, Prism.languages.json, 'json');
      sample_code.empty().html(highlighted_json);
    });
  };

  $(document).on('turbolinks:load', function() {
    indentJsonPre();
  })
</script>